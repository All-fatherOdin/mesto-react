{"version":3,"sources":["images/icons/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","hooks/useForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DelCardPopup.js","components/Login.js","components/Register.js","images/icons/success.svg","images/icons/fail.svg","components/InfoTooltip.js","components/ProtectedRoute.js","auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","link","changeLink","handleLogout","userEmail","className","src","logo","alt","to","onClick","CurrentUserContext","createContext","Card","onCardClick","handleCardLike","onDelCard","card","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","user","cardLikeButtonClassName","cardInfo","isOpen","name","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","style","background","avatar","about","map","Footer","Date","getFullYear","ImagePopup","onClose","useEffect","handleEscClose","e","key","document","addEventListener","removeEventListener","id","target","classList","contains","api","infoForFetch","this","_cohortId","cohortId","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","userName","method","body","JSON","stringify","cardName","isLike","token","authorization","PopupWithForm","title","buttonName","onSubmit","children","isValid","buttonStatus","noValidate","useFormWithValidation","useState","values","setValues","errors","setErrors","setIsValid","handleChange","input","value","validationMessage","closest","checkValidity","resetForm","useCallback","newValues","newErrors","newIsValid","EditProfilePopup","onUpdateUser","Provider","preventDefault","placeholder","minLength","maxLength","onChange","required","EditAvatarPopup","onUpdateAvatar","avatarLink","AddPlacePopup","pictureNameRef","useRef","pictureLinkRef","current","ref","DelCardPopup","Login","handleLogin","email","password","Register","handleRegister","InfoTooltip","tooltipData","history","registration","text","icon","successIcon","failIcon","push","ProtectedRoute","Component","component","props","loggedIn","BASE_URL","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedDelCard","setSelectedDelCard","setCards","selectedCard","setSelectedCard","setCurrentUser","isTooltipPopupOpen","setTooltipPopupOpen","setLoggedIn","userData","setUserData","headerLink","setHeaderLink","useHistory","closeAllPopups","checkToken","localStorage","getItem","auth","data","catch","err","alert","removeItem","all","getUserInfo","getCardsInfo","userInfo","cardsInfo","path","console","log","setItem","changeLikeCardStatus","newCard","state","changeProfile","addCard","changeAvatar","deleteCard","filter","currentCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5cafbf5a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.bbe2a6ea.svg\";","import { Link } from 'react-router-dom';\r\nimport logo from '../images/icons/header-logo.svg';\r\n\r\nfunction Header({ link, changeLink, handleLogout, userEmail }){\r\n   function checkUrl() {\r\n      return link === '/sign-in' ? \r\n      <Link \r\n         to=\"/sign-up\" \r\n         className=\"header__link\" \r\n         onClick={() => {\r\n            changeLink('/sign-up')\r\n         }}\r\n      >\r\n         Регистрация\r\n      </Link> :\r\n\r\n      link === '/sign-up' ? \r\n      <Link \r\n         to=\"/sign-in\" \r\n         className=\"header__link\" \r\n         onClick={() => {\r\n            changeLink('/sign-in')\r\n         }}\r\n      >\r\n         Вход\r\n      </Link> :\r\n      \r\n      link === '/main' ?\r\n      (<div className=\"header__link-container\">\r\n         <p className=\"header__text\">\r\n            { userEmail }\r\n         </p>\r\n         <Link \r\n            to=\"/sign-in\" \r\n            className=\"header__link\" \r\n            onClick={() => {\r\n            changeLink('/sign-in');\r\n            handleLogout();\r\n         }}\r\n         >\r\n            Выход\r\n         </Link> \r\n      </div>) : null;\r\n   }\r\n\r\n   return (\r\n      <header className=\"header\">\r\n         <img \r\n            src={logo} \r\n            alt=\"логотип место.\" \r\n            className=\"header__logo\" \r\n         />\r\n         { checkUrl() }\r\n      </header>\r\n   );\r\n}\r\n\r\nexport default Header; ","import { createContext } from 'react';\r\n\r\nexport const CurrentUserContext = createContext();","import { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ onCardClick, handleCardLike, onDelCard, card }) {\r\n   const currentUser = useContext(CurrentUserContext);\r\n\r\n   const isOwn = card.owner._id === currentUser._id;\r\n\r\n   const cardDeleteButtonClassName = (\r\n      `${isOwn ? \"element__trash-can\" : \r\n      \"element__trash-can element__trash-can_disabled\"}`\r\n   ); \r\n\r\n   const isLiked = card.likes.some(user => user._id === currentUser._id);\r\n\r\n   const cardLikeButtonClassName = (\r\n      `${isLiked ? \"element__like element__like_active\" : \r\n      \"element__like\"}`\r\n   );; \r\n\r\n   function handleLikeStatus() {\r\n      handleCardLike(card);\r\n   };\r\n\r\n   function handleClick(){\r\n      handleCardClick(card);\r\n   };\r\n\r\n   function openDelCardPopup() {\r\n      onDelCard({ isOpen: true, _id: card._id });\r\n   };\r\n\r\n   function handleCardClick(cardInfo) {\r\n      onCardClick({ isOpen: true, src: cardInfo.link, name: cardInfo.name });\r\n   };\r\n\r\n   return (\r\n      <li className=\"element\">\r\n         <button onClick={handleClick} type=\"button\" className=\"element__open-image-popup\">\r\n            <img className=\"element__image\" src={card.link} alt={card.name} />\r\n         </button>\r\n         <button type=\"button\" onClick={openDelCardPopup} className={cardDeleteButtonClassName} />\r\n         <div className=\"element__container\">\r\n            <h2 className=\"element__title\">{card.name}</h2>\r\n            <div className=\"element__like-container\">\r\n               <button onClick={handleLikeStatus} type=\"button\" className={cardLikeButtonClassName} />\r\n               <p className=\"element__like-counter\">{card.likes.length}</p>\r\n            </div>\r\n         </div>\r\n      </li>\r\n   );\r\n}\r\nexport default Card;\r\n","import { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from './Card';\r\n\r\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, \r\n   cards, onDelCard, onCardClick, handleCardLike }) {\r\n   \r\n   const currentUser = useContext(CurrentUserContext);\r\n\r\n   function renderCards() {\r\n      return cards.map(({ ...card }) => (\r\n         <Card \r\n            key={card._id}\r\n            card={{ ...card }} \r\n            onCardClick={onCardClick}\r\n            handleCardLike={handleCardLike}\r\n            onDelCard ={onDelCard}\r\n         />\r\n      ))\r\n   }\r\n\r\n   return (\r\n      <>\r\n      <main className=\"content\">\r\n         <section className=\"profile\">\r\n            <button \r\n               onClick={onEditAvatar} \r\n               type=\"button\" \r\n               className=\"profile__avatar-button\"\r\n            >\r\n               <img \r\n                  className=\"profile__avatar\" \r\n                  alt={currentUser.name} \r\n                  style={{background: `url(${currentUser.avatar})center/cover`}} \r\n               />\r\n            </button>\r\n            <div className=\"profile__info\">\r\n               <div className=\"profile__container\">\r\n                  <h1 className=\"profile__name\">\r\n                     { currentUser.name }\r\n                  </h1>\r\n                  <button \r\n                     onClick={onEditProfile} \r\n                     type=\"button\" \r\n                     className=\"profile__edit-button\"\r\n                  >\r\n                  </button>\r\n               </div>\r\n               <p className=\"profile__career\">\r\n                  { currentUser.about }\r\n               </p>\r\n            </div>\r\n            <button \r\n               onClick={onAddPlace} \r\n               type=\"button\" \r\n               className=\"profile__add-button\"\r\n            >\r\n            </button>\r\n         </section>\r\n      </main>\r\n      \r\n      <section className=\"elements\">\r\n         <ul className=\"elements__list\">\r\n            {renderCards()}\r\n         </ul>\r\n      </section>\r\n      </>\r\n   )\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n   return(\r\n      <footer className=\"footer\">\r\n         <p className=\"footer__logo\">\r\n            &#169; { new Date().getFullYear() } Mesto Russia\r\n         </p>\r\n      </footer>\r\n   );\r\n}\r\n\r\nexport default Footer;","import { useEffect } from 'react';\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n   const { isOpen, name, src } = card;\r\n   const className = isOpen ? \"layout layout_active\" : \"layout\";\r\n\r\n   function closePopupOverlay(e) {\r\n      if (e.target.classList.contains(\"layout\")) onClose();\r\n   }\r\n\r\n   useEffect(() => {\r\n      if (!isOpen) return;\r\n      const handleEscClose = (e) => {\r\n         if (e.key === \"Escape\") onClose()\r\n      };\r\n      document.addEventListener(\"keydown\", handleEscClose);\r\n      return () => {\r\n         document.removeEventListener(\"keydown\", handleEscClose);\r\n      };\r\n   }, [isOpen, onClose])\r\n\r\n   return (\r\n      <div className={className} id=\"image-popup\" onClick={closePopupOverlay}>\r\n         <div className=\"img-popup\">\r\n            <img src={src} alt={name} className=\"img-popup__image\" />\r\n            <button onClick={onClose} type=\"button\" className=\"del-button\"></button> \r\n            <h2 className=\"img-popup__title\">{name}</h2>\r\n         </div>  \r\n      </div>\r\n   )\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n   constructor(infoForFetch) {\r\n      this._cohortId = infoForFetch.cohortId;\r\n      this._baseUrl = infoForFetch.baseUrl;\r\n      this._headers = infoForFetch.headers;\r\n   }\r\n\r\n   _checkResponse(res) {\r\n         if (res.ok) {\r\n            return res.json();\r\n         }\r\n         return Promise.reject(`Ошибка ${res.status}`);\r\n   }\r\n\r\n   getUserInfo() {\r\n      return fetch(`${this._baseUrl}/${this._cohortId}/users/me`, {\r\n         headers: this._headers\r\n      })\r\n      .then(this._checkResponse)\r\n   }\r\n\r\n   getCardsInfo() {\r\n      return fetch(`${this._baseUrl}/${this._cohortId}/cards`, {\r\n         headers: this._headers\r\n      })\r\n      .then(this._checkResponse)\r\n   }\r\n\r\n   changeProfile({ userName, about }) {\r\n      return fetch(`${this._baseUrl}/${this._cohortId}/users/me`, {\r\n         method: 'PATCH',\r\n         headers: this._headers,\r\n         body: JSON.stringify({\r\n            name: userName,\r\n            about: about\r\n         })\r\n      })\r\n      .then(this._checkResponse)\r\n   }\r\n\r\n   addCard({ cardName, link }) {\r\n      return fetch(`${this._baseUrl}/${this._cohortId}/cards`, {\r\n         method: 'POST',\r\n         headers: this._headers,\r\n         body: JSON.stringify({\r\n            name: cardName,\r\n            link: link\r\n         })\r\n      })\r\n      .then(this._checkResponse)\r\n   }\r\n\r\n   deleteCard(id) {\r\n      return fetch(`${this._baseUrl}/${this._cohortId}/cards/${id}`, {\r\n         method: 'DELETE',\r\n         headers: this._headers\r\n      })\r\n      .then(this._checkResponse)\r\n   }\r\n\r\n   changeLikeCardStatus(id, isLike) {\r\n      return fetch(`${this._baseUrl}/${this._cohortId}/cards/likes/${id}`, {\r\n         method: `${isLike ? 'PUT' : 'DELETE'}`,\r\n         headers: this._headers\r\n      })\r\n      .then(this._checkResponse)\r\n   }\r\n\r\n   changeAvatar(avatar) {\r\n      return fetch(`${this._baseUrl}/${this._cohortId}/users/me/avatar`, {\r\n         method: 'PATCH',\r\n         headers: this._headers,\r\n         body: JSON.stringify({\r\n            avatar\r\n         })\r\n      })\r\n      .then(this._checkResponse)\r\n   }\r\n}\r\n\r\nconst api = new Api({\r\n   baseUrl: 'https://mesto.nomoreparties.co/v1', \r\n   cohortId: 'cohort-22', \r\n   token: '3c946ec2-c7fc-48d8-9469-bc7da07a0d23', \r\n   headers: {\r\n      authorization: '3c946ec2-c7fc-48d8-9469-bc7da07a0d23',\r\n      'Content-Type': 'application/json'\r\n   }\r\n});\r\n\r\nexport default api;","import { useEffect } from \"react\";\r\n\r\nfunction PopupWithForm({ name, id, title, buttonName, \r\n   isOpen, onClose, onSubmit, children, isValid }) {\r\n   const className = isOpen ? \"layout layout_active\" : \"layout\";\r\n\r\n   const buttonStatus = isValid ? \"popup__save-button\" : \r\n   \"popup__save-button popup__save-button_inactive\";\r\n\r\n   function closePopupOverlay(e) {\r\n      if (e.target.classList.contains(\"layout\")) {\r\n         onClose()\r\n      }\r\n   }\r\n\r\n   useEffect(() => {\r\n      if(!isOpen) return;\r\n      const handleEscClose = (e) => {\r\n         if (e.key === \"Escape\") {\r\n            onClose()\r\n         }\r\n      };\r\n      document.addEventListener(\"keydown\", handleEscClose);\r\n      return () => {\r\n         document.removeEventListener(\"keydown\", handleEscClose);\r\n      };\r\n   }, [isOpen, onClose])\r\n\r\n   return (\r\n      <div className={className} id={id} onClick={closePopupOverlay}>\r\n         <form name={name} className=\"popup\" onSubmit={onSubmit} noValidate>\r\n            <h2 className=\"popup__title\">\r\n               {title}\r\n            </h2>\r\n            <fieldset className=\"popup__text-container\">\r\n               {children}\r\n            </fieldset>\r\n            <button type=\"submit\" className={buttonStatus}>\r\n               {buttonName}\r\n            </button>\r\n            <button onClick={onClose} type=\"button\" className=\"del-button\"></button>\r\n         </form>     \r\n      </div>\r\n   )\r\n}\r\n\r\nexport default PopupWithForm;","import { useCallback, useState } from \"react\";\r\n\r\nexport function useForm() {\r\n   const [values, setValues] = useState({});\r\n\r\n   const handleChange = (e) => {\r\n      const input = e.target;\r\n      const value = input.value;\r\n      const name = input.name;\r\n      setValues({ ...values, [name]: value });\r\n   };\r\n\r\n   return { values, handleChange, setValues };\r\n};\r\n\r\nexport function useFormWithValidation(className=\".popup\") {\r\n   const [values, setValues] = useState({});\r\n   const [errors, setErrors] = useState({});\r\n   const [isValid, setIsValid] = useState(false);\r\n\r\n   const handleChange = (e) => {\r\n      const input = e.target;\r\n      const value = input.value;\r\n      const name = input.name;\r\n      setValues({ ...values, [name]: value });\r\n      setErrors({ ...errors, [name]: input.validationMessage });\r\n      setIsValid(input.closest(className).checkValidity());\r\n   }\r\n\r\n   const resetForm = useCallback(\r\n      (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n         setValues(newValues);\r\n         setErrors(newErrors);\r\n         setIsValid(newIsValid);\r\n      },\r\n      [setValues, setErrors, setIsValid]\r\n   );\r\n\r\n   return { values, handleChange, resetForm, errors, isValid }\r\n}","import { useContext, useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { useFormWithValidation } from '../hooks/useForm';\r\n\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n   const currentUser = useContext(CurrentUserContext);\r\n   const { values, handleChange, errors, isValid, resetForm } = useFormWithValidation();\r\n\r\n   function handleSubmit(e) {\r\n      e.preventDefault();\r\n      onUpdateUser({userName: values[\"user-name\"], about: values[\"user-about\"]});\r\n   } \r\n\r\n   useEffect(() => {\r\n      resetForm();\r\n   }, [isOpen, resetForm]);\r\n   \r\n   return(\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n         <PopupWithForm\r\n            name=\"user-profile\" \r\n            id=\"profile-popup\" \r\n            title=\"Редактировать профиль\"\r\n            buttonName=\"Сохранить\" \r\n            isOpen={isOpen} \r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            isValid={isValid}\r\n            resetForm={resetForm}\r\n         >\r\n            <input \r\n               type=\"text\" \r\n               name=\"user-name\"\r\n               placeholder=\"Имя\" \r\n               className=\"popup__text\" \r\n               minLength=\"2\" \r\n               maxLength=\"40\" \r\n               value={values[\"user-name\"] || \"\"} \r\n               onChange={handleChange}\r\n               required\r\n            />\r\n            <span className=\"popup__text-error\">\r\n               {errors[\"user-name\"] || \"\"}\r\n            </span>\r\n\r\n            <input \r\n               type=\"text\" \r\n               name=\"user-about\"\r\n               placeholder=\"О себе\" \r\n               className=\"popup__text\"\r\n               minLength=\"2\" \r\n               maxLength=\"40\" \r\n               value={values[\"user-about\"] || \"\"} \r\n               onChange={handleChange} \r\n               required \r\n            />\r\n            <span className=\"popup__text-error\">\r\n               {errors[\"user-about\"] || \"\"}\r\n            </span>\r\n         </PopupWithForm>\r\n      </CurrentUserContext.Provider>\r\n   );\r\n}\r\n\r\nexport default EditProfilePopup;","import { useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { useFormWithValidation } from '../hooks/useForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n   const { values, handleChange, resetForm, errors, isValid } = useFormWithValidation();\r\n\r\n   function handleSubmit(e) {\r\n      e.preventDefault();\r\n      const avatarLink = values[\"img-link\"];\r\n      onUpdateAvatar({ avatar: avatarLink });\r\n      onClose();\r\n   } \r\n\r\n   useEffect(() => {\r\n      resetForm();\r\n   }, [isOpen, resetForm]);\r\n\r\n   return (\r\n         <PopupWithForm \r\n            name=\"user-gallery\" \r\n            title=\"Обновить аватар\"\r\n            buttonName=\"Сохранить\"\r\n            isOpen={isOpen} \r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            isValid={isValid}\r\n         >\r\n            <input \r\n               type=\"url\" \r\n               name=\"img-link\" \r\n               placeholder=\"Ссылка на картинку\"\r\n               className=\"popup__text\" \r\n               required\r\n               minLength='2'\r\n               value={values[\"img-link\"] || \"\"}\r\n               onChange={handleChange} \r\n               />\r\n            <span className=\"popup__text-error\">\r\n               {errors[\"img-link\"] || \"\"}\r\n            </span>\r\n         </PopupWithForm>\r\n   );\r\n}\r\n\r\nexport default EditAvatarPopup;","import { useRef, useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { useFormWithValidation } from '../hooks/useForm';\r\n\r\nfunction AddPlacePopup({ onAddPlace, isOpen, onClose }) {\r\n   const { values, handleChange, errors, isValid, resetForm } = useFormWithValidation();\r\n   const pictureNameRef = useRef();\r\n   const pictureLinkRef = useRef();\r\n\r\n   function handleSubmit(e) {\r\n      e.preventDefault();\r\n      onAddPlace({ name: pictureNameRef.current.value, \r\n         link: pictureLinkRef.current.value });\r\n   };\r\n\r\n   useEffect(() => {\r\n      resetForm();\r\n   }, [isOpen, resetForm]);\r\n\r\n   return (\r\n      <PopupWithForm\r\n         name=\"user-gallery\" \r\n         id=\"gallery-popup\" \r\n         title=\"Новое место\"\r\n         buttonName=\"Сохранить\"\r\n         isOpen={isOpen} \r\n         onClose={onClose}\r\n         onSubmit={handleSubmit}\r\n         isValid={isValid}\r\n         resetForm={resetForm}\r\n      >\r\n         <input  \r\n            type=\"text\" \r\n            name=\"img-name\" \r\n            placeholder=\"Название\" \r\n            className=\"popup__text\" \r\n            minLength=\"2\" \r\n            maxLength=\"30\"\r\n            onChange={handleChange}\r\n            value={values[\"img-name\"] || \"\"} \r\n            ref={pictureNameRef} \r\n            required \r\n         />\r\n         <span className=\"popup__text-error\">\r\n            {errors[[\"img-name\"]]}\r\n         </span>\r\n\r\n         <input \r\n            type=\"url\" \r\n            name=\"img-location\"\r\n            placeholder=\"Ссылка на картинку\" \r\n            className=\"popup__text\"\r\n            onChange={handleChange}\r\n            value={values[\"img-location\"] || \"\"}  \r\n            ref={pictureLinkRef} \r\n            required \r\n            />\r\n         <span className=\"popup__text-error\">\r\n            {errors[\"img-location\"]}\r\n         </span>\r\n      </PopupWithForm>\r\n   )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction DelCardPopup({ card, onClose, onDelCard }) {\r\n\r\n   function handleSubmit(e) {\r\n      e.preventDefault();\r\n      onDelCard(card._id);\r\n      onClose();\r\n   };\r\n\r\n   return(\r\n      <PopupWithForm \r\n         name=\"del-card-form\" \r\n         id=\"del-card-popup\" \r\n         title=\"Вы уверены?\"\r\n         buttonName=\"Да\"\r\n         isOpen={card.isOpen}\r\n         onClose={onClose}\r\n         onSubmit={handleSubmit}\r\n         isValid={true}\r\n      />\r\n   )\r\n}\r\n\r\nexport default DelCardPopup;","import { useFormWithValidation } from '../hooks/useForm';\r\n\r\nfunction Login({ handleLogin }) {\r\n   const { values, handleChange, errors, isValid, resetForm } = useFormWithValidation(\".login__form\");\r\n   const buttonStatus = isValid ? \"login__button\" : \r\n   \"login__button login__button_inactive\";\r\n\r\n   function handleSubmit(e) {\r\n      e.preventDefault();\r\n      const { email, password } = values; \r\n      handleLogin({ email, password });\r\n      resetForm();\r\n   }\r\n\r\n   return(\r\n      <div className=\"login\">\r\n         <form className=\"login__form\" onSubmit={handleSubmit} noValidate>\r\n            <h2 className=\"login__title\">Вход</h2>\r\n\r\n            <input \r\n               name=\"email\" \r\n               type=\"email\" \r\n               className=\"login__input\"\r\n               value={values[\"email\"]} \r\n               placeholder=\"Email\" \r\n               onChange={handleChange}\r\n               required\r\n            />\r\n            <span className=\"form-text-error form-text-error_login\">\r\n               { errors[\"email\"] || \"\" }\r\n            </span>\r\n\r\n            <input \r\n               name=\"password\" \r\n               type=\"password\" \r\n               className=\"login__input\"\r\n               minLength=\"4\"\r\n               maxLength=\"10\"\r\n               value={values[\"password\"]} \r\n               placeholder=\"Пароль\" \r\n               onChange={handleChange}\r\n            />\r\n            <span className=\"form-text-error form-text-error_login\">\r\n               { errors[\"password\"] || \"\" }\r\n            </span>\r\n\r\n            <button className={buttonStatus}>Войти</button>\r\n         </form>\r\n      </div>\r\n   ) \r\n}\r\n\r\nexport default Login;","import { Link } from 'react-router-dom';\r\nimport { useFormWithValidation } from '../hooks/useForm';\r\n\r\nfunction Register({handleRegister, changeLink}){\r\n   const { values, handleChange, errors, isValid, resetForm } = \r\n   useFormWithValidation(\".register__form\");\r\n\r\n   const buttonStatus = isValid ? \"register__button\" : \r\n   \"register__button register__button_inactive\";\r\n\r\n   function handleSubmit(e) {\r\n      e.preventDefault();\r\n      let { email, password } = values;\r\n      handleRegister({ email, password });\r\n      resetForm();\r\n   }\r\n\r\n   function changeHeaderLink() {\r\n      changeLink('/sign-in');\r\n   }\r\n\r\n   return(\r\n      <div className=\"register\">\r\n         <form className=\"register__form\" onSubmit={handleSubmit}>\r\n            <h2 className=\"register__title\">Регистрация</h2>\r\n            <input \r\n               name=\"email\" \r\n               type=\"email\" \r\n               className=\"register__input\"\r\n               value={values[\"email\"] || \"\"} \r\n               placeholder=\"Email\" \r\n               onChange={handleChange}\r\n               required\r\n            />\r\n            <span className=\"form-text-error form-text-error_login\">\r\n               {errors[\"email\"] || \"\"}\r\n            </span>\r\n\r\n            <input \r\n               name=\"password\" \r\n               type=\"password\" \r\n               className=\"register__input\" \r\n               minLength=\"4\"\r\n               maxLength=\"10\"\r\n               value={values[\"password\"] || \"\"} \r\n               placeholder=\"Пароль\" \r\n               onChange={handleChange}\r\n            />\r\n            <span className=\"form-text-error form-text-error_login\">\r\n               {errors[\"password\"] || \"\"}\r\n            </span>\r\n\r\n            <button className={buttonStatus}>\r\n               Зарегистрироваться\r\n            </button>\r\n         </form>\r\n         <div className=\"register__signin\">\r\n            <p className=\"register__signin-text\">\r\n               Уже зарегистрировались?\r\n            </p>\r\n            <Link \r\n               to=\"/sign-in\" \r\n               className=\"register__login-link\" \r\n               onClick={changeHeaderLink}\r\n            >\r\n               Войти\r\n            </Link>\r\n         </div>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default Register","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import successIcon from '../images/icons/success.svg';\r\nimport failIcon from '../images/icons/fail.svg';\r\n\r\nfunction InfoTooltip({ onClose, tooltipData, history, changeLink }) {\r\n   const { isOpen, registration } = tooltipData;\r\n   const text = registration ? 'Вы успешно зарегистрировались!' : \r\n   'Что-то пошло не так! Попробуйте ещё раз.';\r\n\r\n   const icon = registration ? successIcon : failIcon;\r\n   const className = isOpen ? \"layout layout_active\" : \"layout\";\r\n\r\n   function closePopupOverlay(e) {\r\n      if (e.target.classList.contains(\"layout\")) {\r\n         onClose();\r\n      }\r\n   }\r\n   function handelClick() {\r\n      onClose();\r\n      if (registration) {\r\n         history.push(\"/sign-in\");\r\n         changeLink('/sign-in');\r\n      }\r\n   }\r\n   return(\r\n      <div className={className} onClick={closePopupOverlay}>\r\n         <div className=\"popup popup_position\">\r\n            <img \r\n               className=\"popup__tooltip-icon\" \r\n               src={icon} \r\n               alt=\"#\"\r\n            />\r\n            <h2 className=\"popup__title popup__title_position\">\r\n               { text }\r\n            </h2>\r\n            <button \r\n               onClick={handelClick} \r\n               type=\"button\" \r\n               className=\"del-button\"\r\n            >\r\n            </button>\r\n         </div>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default InfoTooltip;","import { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n   return (\r\n      <Route>\r\n         {\r\n            props.loggedIn ? <Component {...props} /> : <Redirect to=\"./login\" />\r\n         }\r\n      </Route>\r\n)}\r\n\r\nexport default ProtectedRoute;","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const register = ({email, password}) => {\n  console.log({email, password})\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({password, email})\n  })\n  .then((res) => res.json())\n};\nexport const authorize = ({email, password}) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n  .then((res => res.json()))\n};\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    }\n  })\n  .then(res => res.json())\n}\n\n\n","import {useState, useEffect} from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DelCardPopup from './DelCardPopup';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport { Redirect, Route, Switch, useHistory } from 'react-router';\nimport ProtectedRoute from './ProtectedRoute';\nimport * as auth from '../auth';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [selectedDelCard, setSelectedDelCard] = useState({ isOpen: false });\n  const [cards, setCards] = useState([]);\n  const [selectedCard, setSelectedCard] = useState({ isOpen: false });\n  const [currentUser, setCurrentUser] = useState({});\n  const [isTooltipPopupOpen, setTooltipPopupOpen] = useState({isOpen: false, registration: false});\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userData, setUserData] = useState({});\n  const [headerLink, setHeaderLink] = useState('/sign-in');\n  const history = useHistory();\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setSelectedCard({ isOpen: false });\n    setSelectedDelCard({ isOpen: false });\n    setTooltipPopupOpen({ isOpen: false })\n  };\n\n  function openProfilePopup() {\n    setEditProfilePopupOpen(true);\n  };\n\n  function openNewCardPopup() {\n    setAddPlacePopupOpen(true);\n  };\n\n  function openAvatarPopup() {\n    setEditAvatarPopupOpen(true);\n  };\n\n  function handleUpdateUser({userName, about}) {\n    api.changeProfile({userName, about})\n    .then((userInfo) => {\n      setCurrentUser(userInfo)\n      closeAllPopups()\n    })\n    .catch((err) => {\n      alert(err)\n    });\n  };\n\n  function handleUpdateAvatar({avatar}) {\n    api.changeAvatar(avatar)\n    .then((userInfo) => {\n      setCurrentUser(userInfo)\n    })\n    .catch((err) => {\n      alert(err)\n    });\n  };\n\n  function handleCardDelete(_id) {\n    api.deleteCard(_id)\n    .then(() => {\n      setCards((state) => state.filter((currentCard) => currentCard._id !== _id));\n    })\n    .catch((err) => {\n      alert(err)\n    });\n  };\n\n  function handleAddPlaceSubmit(card) {\n    api.addCard({ cardName: card.name, link: card.link })\n    .then((newCard) => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    })\n    .catch((err) => {\n      alert(err);\n    });\n  };\n\n  function handleCardLike(cardInfo) {\n    const isLiked = cardInfo.likes.some(user => user._id === currentUser._id);\n    api.changeLikeCardStatus(cardInfo._id, !isLiked)\n    .then((newCard) => {\n      setCards((state) => state.map((card) => card._id === cardInfo._id ? newCard : card));\n    })\n    .catch((err) => {\n      alert(err);\n    });\n  };\n\n  useEffect(() => {\n    Promise.all([api.getUserInfo(), \n    api.getCardsInfo()])\n      .then(([userInfo, cardsInfo]) => {\n        setCurrentUser(userInfo);\n        setCards(cardsInfo);\n      })\n      .catch((err) => {\n        alert(err);\n      })\n  }, [loggedIn]);\n\n  function handleRegister({email, password}) {\n    auth.register({email, password})\n    .then((res) => {\n      if(res.data){\n        const {data} = res;\n        setUserData({ email: data.email })\n        setTooltipPopupOpen({ isOpen: true, registration: true });\n      } else {\n        setTooltipPopupOpen({ isOpen: true, registration: false });\n      }\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }\n\n  function handleLogin({ email, password }) {\n    auth.authorize({ email, password })\n    .then((res) => {\n      if(res.token){\n        setUserData({ email: email });\n        localStorage.setItem('jwt', res.token);\n        setLoggedIn(true);\n        history.push('/main');\n        setHeaderLink('/main');\n      } else {\n        setTooltipPopupOpen({ isOpen: true, registration: false });\n      }\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  };\n\n  function handleLogout() {\n    history.push('/sign-in');\n    setLoggedIn(false);\n    setUserData({ email: '' });\n    localStorage.removeItem('jwt');\n  }\n\n  function checkToken() {\n    const token = localStorage.getItem('jwt');\n    if (token) {\n      auth.getContent(token)\n      .then((res)=> {\n        const { data } = res;\n        setUserData({ email: data.email });\n        setLoggedIn(true);\n        history.push('/main');\n        setHeaderLink('/main');\n      })\n      .catch((err) => {\n        alert(err);\n        localStorage.removeItem('jwt');\n      })\n    } else {\n      history.push('/sign-in');\n      setHeaderLink('/sign-in');\n    };\n  };\n\n  useEffect(() => {\n    checkToken();\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page__container\">\n        <Header\n          link={headerLink}\n          changeLink={setHeaderLink}\n          handleLogout={handleLogout}\n          userEmail={userData.email}\n        />\n        <InfoTooltip \n          onClose={closeAllPopups}\n          tooltipData={isTooltipPopupOpen}\n          history={history}\n          changeLink={setHeaderLink}\n        />\n        <Switch>\n          <Route path=\"/sign-up\">\n            <Register \n              handleRegister={handleRegister} \n              changeLink={setHeaderLink}\n            />\n          </Route>\n          <Route path=\"/sign-in\">\n            <Login \n              handleLogin={handleLogin}\n            />\n          </Route>\n          <ProtectedRoute \n            path=\"/main\" \n            component={Main}\n            loggedIn={loggedIn}\n            onEditProfile={openProfilePopup}\n            onAddPlace={openNewCardPopup}\n            onEditAvatar={openAvatarPopup}\n            onDelCard={setSelectedDelCard}\n            onCardClick={setSelectedCard}\n            cards={cards}\n            handleCardLike={handleCardLike}\n          />\n          <Route>\n            {loggedIn ? <Redirect to=\"/main\"/> : <Redirect to=\"/sign-in\"/> }\n          </Route>\n        </Switch>\n\n        <Footer />\n      </div>\n\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen} \n        onClose={closeAllPopups} \n        onUpdateUser={handleUpdateUser}\n      />\n\n      <AddPlacePopup\n        onAddPlace={handleAddPlaceSubmit}\n        isOpen={isAddPlacePopupOpen} \n        onClose={closeAllPopups}\n      />\n\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n      />\n\n      <DelCardPopup \n        card={selectedDelCard}\n        onClose={closeAllPopups}\n        onDelCard={handleCardDelete}\n      />\n\n      <ImagePopup \n        card={selectedCard} \n        onClose={closeAllPopups}\n      />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
{"version":3,"sources":["images/icons/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","hooks/useForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DelCardPopup.js","components/Login.js","components/Register.js","images/icons/success.svg","images/icons/fail.svg","components/InfoTooltip.js","components/ProtectedRoute.js","auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","link","changeLink","handleLogout","userEmail","className","src","logo","alt","to","onClick","console","log","CurrentUserContext","createContext","Card","onCardClick","handleCardLike","onDelCard","card","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","user","cardLikeButtonClassName","cardInfo","isOpen","name","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","style","background","avatar","about","map","Footer","Date","getFullYear","ImagePopup","onClose","useEffect","handleEscClose","e","key","document","addEventListener","removeEventListener","id","target","classList","contains","api","infoForFetch","this","_cohortId","cohortId","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","then","_checkResponse","userName","method","body","JSON","stringify","cardName","isLike","token","authorization","PopupWithForm","title","buttonName","onSubmit","children","isValid","buttonStatus","noValidate","useFormWithValidation","useState","values","setValues","errors","setErrors","setIsValid","handleChange","input","value","validationMessage","closest","checkValidity","resetForm","useCallback","newValues","newErrors","newIsValid","EditProfilePopup","onUpdateUser","Provider","preventDefault","placeholder","minLength","maxLength","onChange","required","EditAvatarPopup","onUpdateAvatar","avatarLink","AddPlacePopup","pictureNameRef","useRef","pictureLinkRef","current","ref","DelCardPopup","Login","handleLogin","email","password","Register","handleRegister","InfoTooltip","tooltipData","history","registration","icon","successIcon","failIcon","text","push","ProtectedRoute","Component","component","props","loggedIn","BASE_URL","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedDelCard","setSelectedDelCard","setCards","selectedCard","setSelectedCard","setCurrentUser","isTooltipPopupOpen","setTooltipPopupOpen","setLoggedIn","userData","setUserData","headerLink","setHeaderLink","useHistory","closeAllPopups","checkToken","localStorage","getItem","auth","data","catch","err","alert","removeItem","all","getUserInfo","getCardsInfo","userInfo","cardsInfo","path","error","setItem","changeLikeCardStatus","newCard","state","changeProfile","addCard","changeAvatar","deleteCard","filter","currentCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.16fcd3b1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.bbe2a6ea.svg\";","import { Link } from 'react-router-dom';\r\nimport logo from '../images/icons/header-logo.svg';\r\n\r\nfunction Header({link, changeLink, handleLogout, userEmail}){\r\n   function checkUrl() {\r\n      return link === '/sign-in' ? \r\n      <Link to=\"/sign-up\" className=\"header__link\" onClick={()=>{changeLink('/sign-up')}}>Регистрация</Link> :\r\n      link === '/sign-up' ? <Link to=\"/sign-in\" className=\"header__link\" onClick={()=>{changeLink('/sign-in')}}>Вход</Link> : link === '/main' ?\r\n      (<div className=\"header__link-container\">\r\n         {console.log(userEmail)}\r\n         <p className=\"header__text\">{userEmail}</p>\r\n         <Link to=\"/sign-in\" className=\"header__link\" onClick={()=>{\r\n            changeLink('/sign-in');\r\n            handleLogout();\r\n         }}>Выход</Link> \r\n      </div>) : null;\r\n   }\r\n\r\n   return (\r\n      <header className=\"header\">\r\n         <img src={logo} alt=\"логотип место.\" className=\"header__logo\" />\r\n         {checkUrl()}\r\n      </header>\r\n   )\r\n}\r\n\r\nexport default Header; ","import { createContext } from 'react'\r\n\r\nexport const CurrentUserContext = createContext();","import {useContext} from 'react'\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({onCardClick, handleCardLike, onDelCard, card}) {\r\n   const currentUser = useContext(CurrentUserContext)\r\n\r\n   const isOwn = card.owner._id === currentUser._id;\r\n\r\n   const cardDeleteButtonClassName = (\r\n      `${isOwn ? \"element__trash-can\" : \r\n      \"element__trash-can element__trash-can_disabled\"}`\r\n   ); \r\n\r\n   const isLiked = card.likes.some(user => user._id === currentUser._id);\r\n\r\n   const cardLikeButtonClassName = (\r\n      `${isLiked ? \"element__like element__like_active\" : \r\n      \"element__like\"}`\r\n   );; \r\n\r\n   function handleLikeStatus() {\r\n      handleCardLike(card)\r\n   }\r\n\r\n   function handleClick(){\r\n      handleCardClick(card)\r\n   }\r\n\r\n   function openDelCardPopup() {\r\n      onDelCard({ isOpen: true, _id: card._id });\r\n   }\r\n\r\n   function handleCardClick(cardInfo) {\r\n      onCardClick({ isOpen: true, src: cardInfo.link, name: cardInfo.name })\r\n   }\r\n\r\n   return (\r\n      <li className=\"element\">\r\n         <button onClick={handleClick} type=\"button\" className=\"element__open-image-popup\">\r\n            <img className=\"element__image\" src={card.link} alt={card.name} />\r\n         </button>\r\n         <button type=\"button\" onClick={openDelCardPopup} className={cardDeleteButtonClassName} />\r\n         <div className=\"element__container\">\r\n            <h2 className=\"element__title\">{card.name}</h2>\r\n            <div className=\"element__like-container\">\r\n               <button onClick={handleLikeStatus} type=\"button\" className={cardLikeButtonClassName} />\r\n               <p className=\"element__like-counter\">{card.likes.length}</p>\r\n            </div>\r\n         </div>\r\n      </li>\r\n   );\r\n}\r\nexport default Card;\r\n","import { useContext } from 'react'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from './Card'\r\n\r\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, cards, onDelCard, onCardClick, handleCardLike}) {\r\n   \r\n   const currentUser = useContext(CurrentUserContext)\r\n\r\n   function renderCards() {\r\n      return cards.map(({ ...card }) => (\r\n         <Card \r\n            key={card._id}\r\n            card={{ ...card }} \r\n            onCardClick={onCardClick}\r\n            handleCardLike={handleCardLike}\r\n            onDelCard ={onDelCard}\r\n         />\r\n      ))\r\n   }\r\n\r\n   return (\r\n      <>\r\n      <main className=\"content\">\r\n         <section className=\"profile\">\r\n            <button onClick={onEditAvatar} type=\"button\" className=\"profile__avatar-button\">\r\n               <img className=\"profile__avatar\" alt={currentUser.name} \r\n               style={{background: `url(${currentUser.avatar})center/cover`}} />\r\n            </button>\r\n            <div className=\"profile__info\">\r\n               <div className=\"profile__container\">\r\n                  <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                  <button onClick={onEditProfile} type=\"button\" className=\"profile__edit-button\"></button>\r\n               </div>\r\n               <p className=\"profile__career\">{currentUser.about}</p>\r\n            </div>\r\n            <button onClick={onAddPlace} type=\"button\" className=\"profile__add-button\"></button>\r\n         </section>\r\n      </main>\r\n      \r\n      <section className=\"elements\">\r\n         <ul className=\"elements__list\">\r\n            {renderCards()}\r\n         </ul>\r\n      </section>\r\n      </>\r\n   )\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n   return(\r\n      <footer className=\"footer\">\r\n         <p className=\"footer__logo\">&#169; {new Date().getFullYear()} Mesto Russia</p>\r\n      </footer>\r\n   )\r\n}\r\n\r\nexport default Footer;","import { useEffect } from 'react'\r\n\r\nfunction ImagePopup({card, onClose}) {\r\n   const { isOpen, name, src } = card;\r\n   const className = isOpen ? \"layout layout_active\" : \"layout\";\r\n\r\n   function closePopupOverlay(e) {\r\n      if (e.target.classList.contains(\"layout\")) {\r\n         onClose()\r\n      }\r\n   }\r\n\r\n   useEffect(() => {\r\n      if(!isOpen) return;\r\n      const handleEscClose = (e) => {\r\n         if (e.key === \"Escape\") {\r\n            onClose()\r\n         }\r\n      };\r\n      document.addEventListener(\"keydown\", handleEscClose);\r\n      return () => {\r\n         document.removeEventListener(\"keydown\", handleEscClose);\r\n      };\r\n   }, [isOpen, onClose])\r\n\r\n   return (\r\n      <div className={className} id=\"image-popup\" onClick={closePopupOverlay}>\r\n         <div className=\"img-popup\">\r\n            <img src={src} alt={name} className=\"img-popup__image\" />\r\n            <button onClick={onClose} type=\"button\" className=\"del-button\"></button> \r\n            <h2 className=\"img-popup__title\">{name}</h2>\r\n         </div>  \r\n      </div>\r\n   )\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n   constructor(infoForFetch) {\r\n      this._cohortId = infoForFetch.cohortId;\r\n      this._baseUrl = infoForFetch.baseUrl;\r\n      this._headers = infoForFetch.headers;\r\n   }\r\n\r\n   _checkResponse(res) {\r\n         if (res.ok) {\r\n            return res.json();\r\n         }\r\n         return Promise.reject(`Ошибка ${res.status}`);\r\n   }\r\n\r\n   getUserInfo() {\r\n      return fetch(`${this._baseUrl}/${this._cohortId}/users/me`, {\r\n         headers: this._headers\r\n      })\r\n      .then(this._checkResponse)\r\n   }\r\n\r\n   getCardsInfo() {\r\n      return fetch(`${this._baseUrl}/${this._cohortId}/cards`, {\r\n         headers: this._headers\r\n      })\r\n      .then(this._checkResponse)\r\n   }\r\n\r\n   changeProfile({userName, about}) {\r\n      return fetch(`${this._baseUrl}/${this._cohortId}/users/me`, {\r\n         method: 'PATCH',\r\n         headers: this._headers,\r\n         body: JSON.stringify({\r\n            name: userName,\r\n            about: about\r\n         })\r\n      })\r\n      .then(this._checkResponse)\r\n   }\r\n\r\n   addCard({cardName, link}) {\r\n      return fetch(`${this._baseUrl}/${this._cohortId}/cards`, {\r\n         method: 'POST',\r\n         headers: this._headers,\r\n         body: JSON.stringify({\r\n            name: cardName,\r\n            link: link\r\n         })\r\n      })\r\n      .then(this._checkResponse)\r\n   }\r\n\r\n   deleteCard(id) {\r\n      return fetch(`${this._baseUrl}/${this._cohortId}/cards/${id}`, {\r\n         method: 'DELETE',\r\n         headers: this._headers\r\n      })\r\n      .then(this._checkResponse)\r\n   }\r\n\r\n   changeLikeCardStatus(id, isLike) {\r\n      return fetch(`${this._baseUrl}/${this._cohortId}/cards/likes/${id}`, {\r\n         method: `${isLike ? 'PUT' : 'DELETE'}`,\r\n         headers: this._headers\r\n      })\r\n      .then(this._checkResponse)\r\n   }\r\n\r\n   changeAvatar(avatar) {\r\n      return fetch(`${this._baseUrl}/${this._cohortId}/users/me/avatar`, {\r\n         method: 'PATCH',\r\n         headers: this._headers,\r\n         body: JSON.stringify({\r\n            avatar\r\n         })\r\n      })\r\n      .then(this._checkResponse)\r\n   }\r\n\r\n}\r\n\r\nconst api = new Api({baseUrl: 'https://mesto.nomoreparties.co/v1', cohortId: 'cohort-22', \r\n                                 token: '3c946ec2-c7fc-48d8-9469-bc7da07a0d23', headers: {authorization: '3c946ec2-c7fc-48d8-9469-bc7da07a0d23',\r\n                                 'Content-Type': 'application/json'}\r\n                              });\r\n\r\nexport default api;","import { useEffect } from \"react\";\r\n\r\n\r\nfunction PopupWithForm({name, id, title, buttonName, isOpen, onClose, onSubmit, children, isValid}) {\r\n   const className = isOpen ? \"layout layout_active\" : \"layout\";\r\n   const buttonStatus = isValid ? \"popup__save-button\" : \r\n   \"popup__save-button popup__save-button_inactive\";\r\n\r\n   function closePopupOverlay(e) {\r\n      if (e.target.classList.contains(\"layout\")) {\r\n         onClose()\r\n      }\r\n   }\r\n\r\n   useEffect(() => {\r\n      if(!isOpen) return;\r\n      const handleEscClose = (e) => {\r\n         if (e.key === \"Escape\") {\r\n            onClose()\r\n         }\r\n      };\r\n      document.addEventListener(\"keydown\", handleEscClose);\r\n      return () => {\r\n         document.removeEventListener(\"keydown\", handleEscClose);\r\n      };\r\n   }, [isOpen, onClose])\r\n\r\n\r\n\r\n   return (\r\n      <div className={className} id={id} onClick={closePopupOverlay}>\r\n         <form name={name} className=\"popup\" onSubmit={onSubmit} noValidate>\r\n            <h2 className=\"popup__title\">{title}</h2>\r\n            <fieldset className=\"popup__text-container\">\r\n               {children}\r\n            </fieldset>\r\n            <button type=\"submit\" className={buttonStatus}>{buttonName}</button>\r\n            <button onClick={onClose} type=\"button\" className=\"del-button\"></button>\r\n         </form>     \r\n      </div>\r\n   )\r\n}\r\n\r\nexport default PopupWithForm;","import { useCallback, useState } from \"react\";\r\n\r\nexport function useForm() {\r\n   const [values, setValues] = useState({});\r\n\r\n   const handleChange = (e) => {\r\n      const input = e.target;\r\n      const value = input.value;\r\n      const name = input.name;\r\n      setValues({ ...values, [name]: value });\r\n   };\r\n\r\n   return { values, handleChange, setValues };\r\n};\r\n\r\nexport function useFormWithValidation(className=\".popup\") {\r\n   const [values, setValues] = useState({});\r\n   const [errors, setErrors] = useState({});\r\n   const [isValid, setIsValid] = useState(false);\r\n\r\n   const handleChange = (e) => {\r\n      const input = e.target;\r\n      const value = input.value;\r\n      const name = input.name;\r\n      setValues({ ...values, [name]: value });\r\n      setErrors({ ...errors, [name]: input.validationMessage });\r\n      setIsValid(input.closest(className).checkValidity());\r\n   }\r\n\r\n   const resetForm = useCallback(\r\n      (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n         setValues(newValues);\r\n         setErrors(newErrors);\r\n         setIsValid(newIsValid);\r\n      },\r\n      [setValues, setErrors, setIsValid]\r\n   );\r\n\r\n   return { values, handleChange, resetForm, errors, isValid }\r\n}","import { useContext, useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport { useFormWithValidation } from '../hooks/useForm';\r\n\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n   const currentUser = useContext(CurrentUserContext)\r\n   const { values, handleChange, errors, isValid, resetForm } = useFormWithValidation();\r\n\r\n   function handleSubmit(e) {\r\n      e.preventDefault();\r\n      onUpdateUser({userName: values[\"user-name\"], about: values[\"user-about\"]});\r\n   } \r\n\r\n   useEffect(() => {\r\n      resetForm()\r\n   }, [isOpen, resetForm])\r\n   \r\n   return(\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n         <PopupWithForm\r\n            name=\"user-profile\" \r\n            id=\"profile-popup\" \r\n            title=\"Редактировать профиль\"\r\n            buttonName=\"Сохранить\" \r\n            isOpen={isOpen} \r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            isValid={isValid}\r\n            resetForm={resetForm}\r\n         >\r\n            <input \r\n               type=\"text\" \r\n               name=\"user-name\"\r\n               placeholder=\"Имя\" \r\n               className=\"popup__text\" \r\n               minLength=\"2\" \r\n               maxLength=\"40\" \r\n               value={values[\"user-name\"] || \"\"} \r\n               onChange={handleChange}\r\n               required\r\n            />\r\n            <span className=\"popup__text-error\">\r\n               {errors[\"user-name\"] || \"\"}\r\n            </span>\r\n\r\n            <input \r\n               type=\"text\" \r\n               name=\"user-about\"\r\n               placeholder=\"О себе\" \r\n               className=\"popup__text\"\r\n               minLength=\"2\" \r\n               maxLength=\"40\" \r\n               value={values[\"user-about\"] || \"\"} \r\n               onChange={handleChange} \r\n               required \r\n            />\r\n            <span className=\"popup__text-error\">\r\n               {errors[\"user-about\"] || \"\"}\r\n            </span>\r\n         </PopupWithForm>\r\n      </CurrentUserContext.Provider>\r\n   )\r\n}\r\n\r\nexport default EditProfilePopup;","import { useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { useFormWithValidation } from '../hooks/useForm'\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n   const { values, handleChange, resetForm, errors, isValid } = useFormWithValidation();\r\n\r\n   function handleSubmit(e) {\r\n      e.preventDefault();\r\n      const avatarLink = values[\"img-link\"];\r\n      onUpdateAvatar({avatar: avatarLink});\r\n      onClose();\r\n   } \r\n\r\n   useEffect(() => {\r\n      resetForm()\r\n   }, [isOpen, resetForm])\r\n\r\n   return (\r\n         <PopupWithForm \r\n            name=\"user-gallery\" \r\n            title=\"Обновить аватар\"\r\n            buttonName=\"Сохранить\"\r\n            isOpen={isOpen} \r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            isValid={isValid}\r\n         >\r\n            <input \r\n               type=\"url\" \r\n               name=\"img-link\" \r\n               placeholder=\"Ссылка на картинку\"\r\n               className=\"popup__text\" \r\n               required\r\n               minLength='2'\r\n               value={values[\"img-link\"] || \"\"}\r\n               onChange={handleChange} \r\n               />\r\n            <span className=\"popup__text-error\">\r\n               {errors[\"img-link\"] || \"\"}\r\n            </span>\r\n         </PopupWithForm>\r\n   )\r\n}\r\n\r\nexport default EditAvatarPopup;","import { useRef, useEffect } from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\nimport { useFormWithValidation } from '../hooks/useForm';\r\n\r\nfunction AddPlacePopup({ onAddPlace, isOpen, onClose }) {\r\n   const { values, handleChange, errors, isValid, resetForm } = useFormWithValidation();\r\n   const pictureNameRef = useRef()\r\n   const pictureLinkRef = useRef()\r\n\r\n   function handleSubmit(e) {\r\n      e.preventDefault();\r\n      onAddPlace({ name: pictureNameRef.current.value, link: pictureLinkRef.current.value });\r\n   }\r\n\r\n   useEffect(() => {\r\n      resetForm()\r\n   }, [isOpen, resetForm])\r\n\r\n   return (\r\n      <PopupWithForm\r\n         name=\"user-gallery\" \r\n         id=\"gallery-popup\" \r\n         title=\"Новое место\"\r\n         buttonName=\"Сохранить\"\r\n         isOpen={isOpen} \r\n         onClose={onClose}\r\n         onSubmit={handleSubmit}\r\n         isValid={isValid}\r\n         resetForm={resetForm}\r\n         >\r\n         <input  \r\n            type=\"text\" \r\n            name=\"img-name\" \r\n            placeholder=\"Название\" \r\n            className=\"popup__text\" \r\n            minLength=\"2\" \r\n            maxLength=\"30\"\r\n            onChange={handleChange}\r\n            value={values[\"img-name\"] || \"\"} \r\n            ref={pictureNameRef} \r\n            required \r\n         />\r\n         <span className=\"popup__text-error\">\r\n            {errors[[\"img-name\"]]}\r\n         </span>\r\n\r\n         <input \r\n            type=\"url\" \r\n            name=\"img-location\"\r\n            placeholder=\"Ссылка на картинку\" \r\n            className=\"popup__text\"\r\n            onChange={handleChange}\r\n            value={values[\"img-location\"] || \"\"}  \r\n            ref={pictureLinkRef} \r\n            required \r\n            />\r\n         <span className=\"popup__text-error\">\r\n            {errors[\"img-location\"]}\r\n         </span>\r\n      </PopupWithForm>\r\n   )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction DelCardPopup({card, onClose, onDelCard}) {\r\n\r\n   function handleSubmit(e) {\r\n      e.preventDefault()\r\n      onDelCard(card._id)\r\n      onClose()\r\n   }\r\n\r\n   return(\r\n      <PopupWithForm \r\n         name=\"del-card-form\" \r\n         id=\"del-card-popup\" \r\n         title=\"Вы уверены?\"\r\n         buttonName=\"Да\"\r\n         isOpen={card.isOpen}\r\n         onClose={onClose}\r\n         onSubmit={handleSubmit}\r\n         isValid={true}\r\n      />\r\n   )\r\n}\r\n\r\nexport default DelCardPopup;","import { useFormWithValidation } from '../hooks/useForm';\r\n\r\nfunction Login({ handleLogin }) {\r\n   const { values, handleChange, errors, isValid, resetForm } = useFormWithValidation(\".login__form\");\r\n   const buttonStatus = isValid ? \"login__button\" : \r\n   \"login__button login__button_inactive\";\r\n\r\n   function handleSubmit(e){\r\n      e.preventDefault();\r\n      const { email, password } = values \r\n      handleLogin({ email, password })\r\n      resetForm()\r\n   }\r\n\r\n   return(\r\n      <div className=\"login\">\r\n         <form className=\"login__form\" onSubmit={handleSubmit} noValidate>\r\n            <h2 className=\"login__title\">Вход</h2>\r\n\r\n            <input \r\n               name=\"email\" \r\n               type=\"email\" \r\n               className=\"login__input\"\r\n               value={values[\"email\"]} \r\n               placeholder=\"Email\" \r\n               onChange={handleChange}\r\n               required\r\n            />\r\n            <span className=\"form-text-error form-text-error_login\">\r\n               {errors[\"email\"] || \"\"}\r\n            </span>\r\n\r\n            <input \r\n               name=\"password\" \r\n               type=\"password\" \r\n               className=\"login__input\"\r\n               minLength=\"4\"\r\n               maxLength=\"10\"\r\n               value={values[\"password\"]} \r\n               placeholder=\"Пароль\" \r\n               onChange={handleChange}\r\n            />\r\n            <span className=\"form-text-error form-text-error_login\">\r\n               {errors[\"password\"] || \"\"}\r\n            </span>\r\n\r\n            <button className={buttonStatus}>Войти</button>\r\n         </form>\r\n      </div>\r\n   ) \r\n}\r\n\r\nexport default Login","import { Link } from 'react-router-dom';\r\nimport { useFormWithValidation } from '../hooks/useForm';\r\n\r\nfunction Register({handleRegister, changeLink}){\r\n   const { values, handleChange, errors, isValid, resetForm } = useFormWithValidation(\".register__form\");\r\n   const buttonStatus = isValid ? \"register__button\" : \r\n   \"register__button register__button_inactive\";\r\n\r\n   function handleSubmit(e){\r\n      e.preventDefault();\r\n      let { email, password } = values;\r\n      handleRegister({ email, password })\r\n      resetForm()\r\n   }\r\n\r\n   function changeHeaderLink() {\r\n      changeLink('/sign-in')\r\n   }\r\n\r\n   return(\r\n      <div className=\"register\">\r\n         <form className=\"register__form\" onSubmit={handleSubmit}>\r\n            <h2 className=\"register__title\">Регистрация</h2>\r\n            <input \r\n               name=\"email\" \r\n               type=\"email\" \r\n               className=\"register__input\"\r\n               value={values[\"email\"] || \"\"} \r\n               placeholder=\"Email\" \r\n               onChange={handleChange}\r\n               required\r\n            />\r\n            <span className=\"form-text-error form-text-error_login\">\r\n               {errors[\"email\"] || \"\"}\r\n            </span>\r\n\r\n            <input \r\n               name=\"password\" \r\n               type=\"password\" \r\n               className=\"register__input\" \r\n               minLength=\"4\"\r\n               maxLength=\"10\"\r\n               value={values[\"password\"] || \"\"} \r\n               placeholder=\"Пароль\" \r\n               onChange={handleChange}\r\n            />\r\n            <span className=\"form-text-error form-text-error_login\">\r\n               {errors[\"password\"] || \"\"}\r\n            </span>\r\n\r\n            <button className={buttonStatus}>Зарегистрироваться</button>\r\n         </form>\r\n         <div className=\"register__signin\">\r\n            <p className=\"register__signin-text\">Уже зарегистрировались?</p>\r\n            <Link \r\n               to=\"/sign-in\" \r\n               className=\"register__login-link\" \r\n               onClick={changeHeaderLink}\r\n            >\r\n               Войти\r\n            </Link>\r\n         </div>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default Register","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import successIcon from '../images/icons/success.svg'\r\nimport failIcon from '../images/icons/fail.svg'\r\n\r\nfunction InfoTooltip({onClose, tooltipData, history, changeLink}) {\r\n   const {isOpen, registration} = tooltipData\r\n   const className = isOpen ? \"layout layout_active\" : \"layout\";\r\n   const icon = registration ? successIcon : failIcon;\r\n   const text = registration ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'\r\n   function closePopupOverlay(e) {\r\n      if (e.target.classList.contains(\"layout\")) {\r\n         onClose()\r\n      }\r\n   }\r\n   function handelClick() {\r\n      onClose();\r\n      if(registration){\r\n         history.push(\"/sign-in\");\r\n         changeLink('/sign-in')\r\n      }\r\n   }\r\n   return(\r\n      <div className={className} onClick={closePopupOverlay}>\r\n         <div className=\"popup popup_position\">\r\n            <img className=\"popup__tooltip-icon\" src={icon} />\r\n            <h2 className=\"popup__title popup__title_position\">{text}</h2>\r\n            <button onClick={handelClick} \r\n               type=\"button\" className=\"del-button\"></button>\r\n         </div>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default InfoTooltip;","import { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n   return (\r\n      <Route>\r\n         {\r\n            props.loggedIn ? <Component {...props} /> : <Redirect to=\"./login\" />\r\n         }\r\n      </Route>\r\n)}\r\n\r\nexport default ProtectedRoute;","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const register = ({email, password}) => {\n  console.log({email, password})\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({password, email})\n  })\n  .then((res) => res.json())\n};\nexport const authorize = ({email, password}) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n  .then((res => res.json()))\n};\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    }\n  })\n  .then(res => res.json())\n}\n\n\n","import {useState, useEffect} from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport DelCardPopup from './DelCardPopup'\nimport Login from './Login'\nimport Register from './Register'\nimport InfoTooltip from './InfoTooltip'\nimport { Redirect, Route, Switch, useHistory } from 'react-router';\nimport ProtectedRoute from './ProtectedRoute';\nimport * as auth from '../auth'\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [selectedDelCard, setSelectedDelCard] = useState({ isOpen: false });\n  const [cards, setCards] = useState([]);\n  const [selectedCard, setSelectedCard] = useState({ isOpen: false });\n  const [currentUser, setCurrentUser] = useState({});\n  const [isTooltipPopupOpen, setTooltipPopupOpen] = useState({isOpen: false, registration: false});\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userData, setUserData] = useState({});\n  const [headerLink, setHeaderLink] = useState('/sign-in');\n  const history = useHistory();\n\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setSelectedCard({ isOpen: false });\n    setSelectedDelCard({ isOpen: false });\n    setTooltipPopupOpen({ isOpen: false })\n  }\n\n  function openProfilePopup() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function openNewCardPopup() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function openAvatarPopup() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleUpdateUser({userName, about}) {\n    api.changeProfile({userName, about})\n    .then((userInfo) => {\n      setCurrentUser(userInfo)\n      closeAllPopups()\n    })\n    .catch((err) => {\n      alert(err)\n    });\n  }\n\n  function handleUpdateAvatar({avatar}) {\n    api.changeAvatar(avatar)\n    .then((userInfo) => {\n      setCurrentUser(userInfo)\n    })\n    .catch((err) => {\n      alert(err)\n    });\n  }\n\n  function handleCardDelete(_id) {\n    api.deleteCard(_id)\n    .then(() => {\n      setCards((state) => state.filter((currentCard) => currentCard._id !== _id));\n    })\n    .catch((err) => {\n      alert(err)\n    });\n  }\n\n  function handleAddPlaceSubmit(card) {\n    api.addCard({cardName: card.name, link: card.link})\n    .then((newCard) => {\n      setCards([newCard, ...cards])\n      closeAllPopups()\n    })\n    .catch((err) => {\n      alert(err)\n    });\n  }\n\n  function handleCardLike(cardInfo) {\n    const isLiked = cardInfo.likes.some(user => user._id === currentUser._id);\n    api.changeLikeCardStatus(cardInfo._id, !isLiked)\n    .then((newCard) => {\n      setCards((state) => state.map((card) => card._id === cardInfo._id ? newCard : card));\n    })\n    .catch((err) => {\n      alert(err)\n    });\n  }\n\n  useEffect(() => {\n    Promise.all([api.getUserInfo(), \n    api.getCardsInfo()])\n      .then(([userInfo, cardsInfo]) => {\n        setCurrentUser(userInfo)\n        setCards(cardsInfo);\n      })\n      .catch((err) => {\n        alert(err)\n      })\n  }, [loggedIn])\n\n  function handleRegister({email, password}) {\n    auth.register({email, password})\n    .then((res) => {\n      if(!res.error){\n        const {data} = res;\n        setUserData({email: data.email})\n        setTooltipPopupOpen({isOpen: true, registration: true})\n      } else {\n        setTooltipPopupOpen({isOpen: true, registration: false})\n      }\n    })\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n\n  function handleLogin({email, password}) {\n    auth.authorize({email, password})\n    .then((res) => {\n      if(res.token){\n        setUserData({email: email})\n        localStorage.setItem('jwt', res.token)\n        setLoggedIn(true)\n        history.push('/main')\n        setHeaderLink('/main')\n      } else {\n        setTooltipPopupOpen({isOpen: true, registration: false})\n      }\n    })\n    .catch((err) => {\n      console.log(err)\n    })\n  }\n\n  function handleLogout() {\n    history.push('/sign-in')\n    setLoggedIn(false)\n    setUserData({email: ''})\n    localStorage.removeItem('jwt')\n  }\n\n  function checkToken() {\n    const token = localStorage.getItem('jwt')\n    if(token) {\n      auth.getContent(token)\n      .then((res)=> {\n        const {data} = res\n        setUserData({email: data.email})\n        setLoggedIn(true)\n        history.push('/main')\n        setHeaderLink('/main')\n      })\n      .catch((err) => {\n        alert(err);\n        localStorage.removeItem('jwt')\n      })\n    } else {\n      history.push('/sign-in')\n      setHeaderLink('/sign-in')\n    }\n  }\n\n  useEffect(() => {\n    checkToken()\n  }, [])\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page__container\">\n        <Header\n          link={headerLink}\n          changeLink={setHeaderLink}\n          handleLogout={handleLogout}\n          userEmail={userData.email}\n        />\n        <InfoTooltip \n          onClose={closeAllPopups}\n          tooltipData={isTooltipPopupOpen}\n          history={history}\n          changeLink={setHeaderLink}\n        />\n        <Switch>\n          <Route path=\"/sign-up\">\n            <Register \n              handleRegister={handleRegister} \n              changeLink={setHeaderLink}\n            />\n          </Route>\n          <Route path=\"/sign-in\">\n            <Login \n              handleLogin={handleLogin}\n            />\n          </Route>\n          <ProtectedRoute \n            path=\"/main\" \n            component={Main}\n            loggedIn={loggedIn}\n            onEditProfile={openProfilePopup}\n            onAddPlace={openNewCardPopup}\n            onEditAvatar={openAvatarPopup}\n            onDelCard={setSelectedDelCard}\n            onCardClick={setSelectedCard}\n            cards={cards}\n            handleCardLike={handleCardLike}\n          />\n          <Route>\n            {loggedIn ? <Redirect to=\"/main\"/> : <Redirect to=\"/sign-in\"/> }\n          </Route>\n        </Switch>\n\n        <Footer />\n      </div>\n\n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen} \n        onClose={closeAllPopups} \n        onUpdateUser={handleUpdateUser}\n      />\n\n      <AddPlacePopup\n        onAddPlace={handleAddPlaceSubmit}\n        isOpen={isAddPlacePopupOpen} \n        onClose={closeAllPopups}\n      />\n\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n      />\n\n      <DelCardPopup \n        card={selectedDelCard}\n        onClose={closeAllPopups}\n        onDelCard={handleCardDelete}\n      />\n\n      <ImagePopup \n        card={selectedCard} \n        onClose={closeAllPopups}\n      />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}